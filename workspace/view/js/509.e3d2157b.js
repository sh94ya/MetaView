"use strict";(globalThis["webpackChunkMetaView"]=globalThis["webpackChunkMetaView"]||[]).push([[509],{509:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var l=a(1758);function s(e,t,a,s,r,o){const n=(0,l.g2)("q-toolbar-title"),u=(0,l.g2)("q-space"),i=(0,l.g2)("q-toolbar"),d=(0,l.g2)("q-header"),g=(0,l.g2)("q-input"),p=(0,l.g2)("q-icon"),b=(0,l.g2)("q-btn"),m=(0,l.g2)("q-form"),c=(0,l.g2)("router-view"),w=(0,l.g2)("q-page-container"),f=(0,l.g2)("q-layout");return(0,l.uX)(),(0,l.Wv)(f,{view:"lHh Lpr lFf"},{default:(0,l.k6)(()=>[(0,l.bF)(d,{elevated:""},{default:(0,l.k6)(()=>[(0,l.bF)(i,null,{default:(0,l.k6)(()=>[(0,l.bF)(n,null,{default:(0,l.k6)(()=>[...t[3]||(t[3]=[(0,l.eW)(" MetaView ",-1)])]),_:1}),(0,l.bF)(u)]),_:1})]),_:1}),(0,l.bF)(w,null,{default:(0,l.k6)(()=>[(0,l.bF)(m,{onSubmit:e.onSubmit,class:"q-gutter-md absolute-center",style:{width:"500px"}},{default:(0,l.k6)(()=>[(0,l.bF)(g,{filled:"",modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),label:"Login...",rules:[e=>e&&e.length>0||"Поле Login не должно быть пустым"]},null,8,["modelValue","rules"]),(0,l.bF)(g,{modelValue:e.password,"onUpdate:modelValue":t[2]||(t[2]=t=>e.password=t),filled:"",type:e.isPwd?"password":"text",label:"Password..."},{append:(0,l.k6)(()=>[(0,l.bF)(p,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[1]||(t[1]=t=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["modelValue","type"]),(0,l.Lk)("div",null,[(0,l.bF)(b,{label:"Вход",type:"submit",color:"primary"})])]),_:1},8,["onSubmit"]),(0,l.bF)(c)]),_:1})]),_:1})}var r=a(8734),o=a(4907),n=(a(660),a(9827)),u=a(1964),i=a(8747),d=a(6980),g=a(5745);const p=(0,l.pM)({name:"LoginPage",setup(){const e=(0,o.A)(),t=(0,r.KR)(null),a=(0,r.KR)(null),l=(0,i.rd)(),s=(0,d.Pj)();async function p(){var l=(0,u.y)("login","Login","login"),r={username:t.value,password:a.value},o=await(0,n.L)(l,r);void 0!=o&&o&&0==o.hasOwnProperty("message")?200==o.status&&(localStorage.setItem("user",JSON.stringify(o.user)),s.commit("SET_CURRENT_USER",JSON.stringify(o.user)),null==o.user.pref?localStorage.setItem("user_settings",JSON.stringify(s.state.user_settings)):localStorage.setItem("user_settings",JSON.stringify(o.user.pref)),b("/workspaces")):o.hasOwnProperty("message")&&(0,g.e)(e,"negative","Error",o.message,"report_problem")}function b(e){l.push(e)}return{onSubmit:p,pushWithQuery:b,isPwd:(0,r.KR)(!0),username:t,password:a,router:l}}});var b=a(2807),m=a(2008),c=a(8416),w=a(6914),f=a(6769),y=a(3676),v=a(5205),h=a(9200),k=a(9270),S=a(492),_=a(6384),F=a(8582),A=a.n(F);const q=(0,b.A)(p,[["render",s]]),P=q;A()(p,"components",{QLayout:m.A,QHeader:c.A,QToolbar:w.A,QToolbarTitle:f.A,QSpace:y.A,QPageContainer:v.A,QForm:h.A,QInput:k.A,QIcon:S.A,QBtn:_.A})}}]);