"use strict";(globalThis["webpackChunkMetaView"]=globalThis["webpackChunkMetaView"]||[]).push([[996],{1063:(e,a,t)=>{t.d(a,{A:()=>_});var l=t(1758),o=t(8790);function n(e,a,t,n,i,s){const d=(0,l.g2)("q-avatar"),r=(0,l.g2)("q-item-section"),u=(0,l.g2)("q-item-label"),c=(0,l.g2)("q-item"),m=(0,l.g2)("q-list"),p=(0,l.g2)("q-btn-dropdown"),b=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(p,{class:"glossy",color:"teal",label:"Action",size:"sm",onClick:e.onMainClick},{default:(0,l.k6)(()=>[(0,l.bF)(m,null,{default:(0,l.k6)(()=>[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(c,{clickable:"",onClick:a[0]||(a[0]=e=>n.InfoClick())},{default:(0,l.k6)(()=>[(0,l.bF)(r,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(d,{icon:"info",color:"blue","text-color":"white"})]),_:1}),(0,l.bF)(r,null,{default:(0,l.k6)(()=>[(0,l.bF)(u,null,{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(n.Info.name),1)]),_:1}),(0,l.bF)(u,{caption:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(n.Info.caption),1)]),_:1})]),_:1})]),_:1})),[[b]]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(c,{clickable:"",onClick:a[1]||(a[1]=e=>n.EditClick())},{default:(0,l.k6)(()=>[(0,l.bF)(r,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(d,{icon:"edit",color:"green","text-color":"white"})]),_:1}),(0,l.bF)(r,null,{default:(0,l.k6)(()=>[(0,l.bF)(u,null,{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(n.Edit.name),1)]),_:1}),(0,l.bF)(u,{caption:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(n.Edit.caption),1)]),_:1})]),_:1})]),_:1})),[[b]]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(c,{clickable:"",onClick:a[2]||(a[2]=e=>n.DeleteClick())},{default:(0,l.k6)(()=>[(0,l.bF)(r,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(d,{icon:"delete",color:"red","text-color":"white"})]),_:1}),(0,l.bF)(r,null,{default:(0,l.k6)(()=>[(0,l.bF)(u,null,{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(n.Delete.name),1)]),_:1}),(0,l.bF)(u,{caption:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(n.Delete.caption),1)]),_:1})]),_:1})]),_:1})),[[b]])]),_:1})]),_:1},8,["onClick"])}var i=t(8734);const s={name:"ActionsButtons",emits:[],props:{info:{type:Object,default:{name:"Info",caption:"Информация"}},edit:{type:Object,default:{name:"Edit",caption:"Редактировать запись"}},delete:{type:Object,default:{name:"Delete",caption:"Удалить запись"}}},components:{},setup(e,{emit:a}){const t=(0,i.KR)(e.info),l=(0,i.KR)(e.edit),o=(0,i.KR)(e.delete);function n(){a("e_info_click")}function s(){a("e_edit_click")}function d(){a("e_delete_click")}return{Info:t,Edit:l,Delete:o,InfoClick:n,EditClick:s,DeleteClick:d}}};var d=t(2807),r=t(1207),u=t(3999),c=t(124),m=t(5173),p=t(3952),b=t(3796),g=t(8672),f=t(8582),v=t.n(f);const k=(0,d.A)(s,[["render",n]]),_=k;v()(s,"components",{QBtnDropdown:r.A,QList:u.A,QItem:c.A,QItemSection:m.A,QAvatar:p.A,QItemLabel:b.A}),v()(s,"directives",{ClosePopup:g.A})},1779:(e,a,t)=>{t.d(a,{A:()=>T});var l=t(1758);const o={class:"q-pa-md"};function n(e,a,t,n,i,s){const d=(0,l.g2)("q-space"),r=(0,l.g2)("q-tooltip"),u=(0,l.g2)("q-btn"),c=(0,l.g2)("q-bar"),m=(0,l.g2)("q-icon"),p=(0,l.g2)("q-avatar"),b=(0,l.g2)("q-card-section"),g=(0,l.g2)("q-uploader"),f=(0,l.g2)("q-img"),v=(0,l.g2)("q-item-section"),k=(0,l.g2)("q-item-label"),_=(0,l.g2)("q-item"),C=(0,l.g2)("q-list"),F=(0,l.g2)("q-card"),A=(0,l.g2)("q-expansion-item"),w=(0,l.g2)("q-dialog"),y=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(w,{ref:"dialogRef",maximized:n.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,l.k6)(()=>[(0,l.bF)(F,{class:"q-dialog-plugin",style:{"min-width":"700px"}},{default:(0,l.k6)(()=>[(0,l.bF)(c,null,{default:(0,l.k6)(()=>[(0,l.bF)(d),(0,l.bF)(u,{dense:"",flat:"",icon:"minimize",onClick:a[0]||(a[0]=e=>n.maximizedToggle=!1),disable:!n.maximizedToggle},{default:(0,l.k6)(()=>[n.maximizedToggle?((0,l.uX)(),(0,l.Wv)(r,{key:0,class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[2]||(a[2]=[(0,l.eW)("Minimize",-1)])]),_:1})):(0,l.Q3)("",!0)]),_:1},8,["disable"]),(0,l.bF)(u,{dense:"",flat:"",icon:"crop_square",onClick:a[1]||(a[1]=e=>n.maximizedToggle=!0),disable:n.maximizedToggle},{default:(0,l.k6)(()=>[n.maximizedToggle?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(r,{key:0,class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[3]||(a[3]=[(0,l.eW)("Maximize",-1)])]),_:1}))]),_:1},8,["disable"]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(u,{dense:"",flat:"",icon:"close"},{default:(0,l.k6)(()=>[(0,l.bF)(r,{class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[4]||(a[4]=[(0,l.eW)("Close",-1)])]),_:1})]),_:1})),[[y]])]),_:1}),(0,l.Lk)("div",o,[(0,l.bF)(b,{class:"fit row wrap justify-start items-start content-start"},{default:(0,l.k6)(()=>[(0,l.bF)(p,{size:"xl"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{name:"upload"})]),_:1}),a[5]||(a[5]=(0,l.Lk)("div",{class:"text-h6"}," Upload ",-1))]),_:1}),(0,l.bF)(b,null,{default:(0,l.k6)(()=>[(0,l.bF)(g,{url:n.URL,label:"Upload","no-thumbnails":"",style:{width:"100%"},headers:n.headers,multiple:"",accept:".xml, .xls, .csv"},null,8,["url","headers"])]),_:1}),(0,l.bF)(b,null,{default:(0,l.k6)(()=>[(0,l.bF)(C,{padding:"",bordered:"",class:"rounded-borders"},{default:(0,l.k6)(()=>[(0,l.bF)(A,{dense:"","dense-toggle":"","expand-separator":"",icon:"upload_file",label:"Поддерживаемые типы файлов:"},{default:(0,l.k6)(()=>[(0,l.bF)(F,null,{default:(0,l.k6)(()=>[(0,l.bF)(b,null,{default:(0,l.k6)(()=>[(0,l.bF)(C,{padding:""},{default:(0,l.k6)(()=>[(0,l.bF)(_,null,{default:(0,l.k6)(()=>[(0,l.bF)(v,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(f,{src:"icons/notes/acunetix.png"})]),_:1}),(0,l.bF)(v,null,{default:(0,l.k6)(()=>[...a[6]||(a[6]=[(0,l.eW)("Acunetix",-1)])]),_:1}),(0,l.bF)(v,{side:""},{default:(0,l.k6)(()=>[(0,l.bF)(k,{caption:""},{default:(0,l.k6)(()=>[...a[7]||(a[7]=[(0,l.eW)("(.xml)",-1)])]),_:1})]),_:1})]),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)(()=>[(0,l.bF)(v,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(f,{src:"icons/notes/maxpatrol.png"})]),_:1}),(0,l.bF)(v,null,{default:(0,l.k6)(()=>[...a[8]||(a[8]=[(0,l.eW)("MaxPatrol",-1)])]),_:1}),(0,l.bF)(v,{side:""},{default:(0,l.k6)(()=>[(0,l.bF)(k,{caption:""},{default:(0,l.k6)(()=>[...a[9]||(a[9]=[(0,l.eW)("(.xml)",-1)])]),_:1})]),_:1})]),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)(()=>[(0,l.bF)(v,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(f,{src:"icons/notes/nmap.png"})]),_:1}),(0,l.bF)(v,null,{default:(0,l.k6)(()=>[...a[10]||(a[10]=[(0,l.eW)("Nmap",-1)])]),_:1}),(0,l.bF)(v,{side:""},{default:(0,l.k6)(()=>[(0,l.bF)(k,{caption:""},{default:(0,l.k6)(()=>[...a[11]||(a[11]=[(0,l.eW)("(.xml)",-1)])]),_:1})]),_:1})]),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)(()=>[(0,l.bF)(v,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(f,{src:"icons/extensions/csv.png"})]),_:1}),(0,l.bF)(v,null,{default:(0,l.k6)(()=>[...a[12]||(a[12]=[(0,l.eW)("Hosts File",-1)])]),_:1}),(0,l.bF)(v,{side:""},{default:(0,l.k6)(()=>[(0,l.bF)(k,{caption:""},{default:(0,l.k6)(()=>[...a[13]||(a[13]=[(0,l.eW)("(.csv)",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1},8,["maximized"])}var i=t(8734),s=t(6980),d=t(1964),r=t(660);const u={props:{url:{type:String,default:null},name:{type:String,default:null}},setup(e){const a=(0,s.Pj)(),t=a.state.current_project,o=(0,i.KR)(r.api),n=(0,i.KR)(null),u=(0,i.KR)(e.name),c=[{name:"Authorization",value:`Bearer ${a.state.current_user.token}`},{name:"workspace",value:a.state.current_project}];return(0,l.KC)(()=>{n.value=`${o.value.defaults.baseURL}${(0,d.y)("files","Upload","upload")}`}),{URL:n,name:u,workspace_id:t,headers:c,maximizedToggle:(0,i.KR)(!1)}}};var c=t(2807),m=t(2156),p=t(3316),b=t(8670),g=t(3676),f=t(6384),v=t(7410),k=t(4189),_=t(3952),C=t(492),F=t(9222),A=t(3999),w=t(8841),y=t(124),I=t(5173),h=t(5046),x=t(3796),V=t(2669),q=t(8672),Q=t(8582),S=t.n(Q);const W=(0,c.A)(u,[["render",n]]),T=W;S()(u,"components",{QDialog:m.A,QCard:p.A,QBar:b.A,QSpace:g.A,QBtn:f.A,QTooltip:v.A,QCardSection:k.A,QAvatar:_.A,QIcon:C.A,QUploader:F.A,QList:A.A,QExpansionItem:w.A,QItem:y.A,QItemSection:I.A,QImg:h.A,QItemLabel:x.A,QCardActions:V.A}),S()(u,"directives",{ClosePopup:q.A})},1963:(e,a,t)=>{t.r(a),t.d(a,{default:()=>We});var l=t(1758);function o(e,a,t,o,n,i){const s=(0,l.g2)("q-tab"),d=(0,l.g2)("q-tabs"),r=(0,l.g2)("q-separator"),u=(0,l.g2)("Settings_UsersSettings"),c=(0,l.g2)("q-tab-panel"),m=(0,l.g2)("Settings_UsersControl"),p=(0,l.g2)("q-tab-panels"),b=(0,l.g2)("q-card");return(0,l.uX)(),(0,l.Wv)(b,null,{default:(0,l.k6)(()=>[(0,l.bF)(d,{modelValue:e.tab,"onUpdate:modelValue":a[0]||(a[0]=a=>e.tab=a),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify"},{default:(0,l.k6)(()=>[(0,l.bF)(s,{name:"users_settings",label:"Пользовательские настройки"}),1==e.current_user.admin?((0,l.uX)(),(0,l.Wv)(s,{key:0,name:"users_control",label:"Управление пользователями"})):(0,l.Q3)("",!0)]),_:1},8,["modelValue"]),(0,l.bF)(r),(0,l.bF)(p,{modelValue:e.tab,"onUpdate:modelValue":a[1]||(a[1]=a=>e.tab=a),animated:""},{default:(0,l.k6)(()=>[(0,l.bF)(c,{name:"users_settings"},{default:(0,l.k6)(()=>[(0,l.bF)(u)]),_:1}),(0,l.bF)(c,{name:"users_control"},{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1})]),_:1},8,["modelValue"])]),_:1})}var n=t(8734),i=t(4907),s=t(6980),d=t(8747);const r={class:"q-pa-md"},u={class:"q-gutter-md",style:{"max-width":"500px"}};function c(e,a,t,o,n,i){const s=(0,l.g2)("q-icon"),d=(0,l.g2)("q-input"),c=(0,l.g2)("q-btn");return(0,l.uX)(),(0,l.CE)("div",r,[(0,l.Lk)("div",u,[a[3]||(a[3]=(0,l.Lk)("div",{class:"text-h5"}," Account ",-1)),(0,l.bF)(d,{modelValue:e.password1,"onUpdate:modelValue":a[1]||(a[1]=a=>e.password1=a),filled:"",type:e.isPwd?"password":"text",label:"New Password"},{append:(0,l.k6)(()=>[(0,l.bF)(s,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[0]||(a[0]=a=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["modelValue","type"]),(0,l.bF)(d,{modelValue:e.password2,"onUpdate:modelValue":a[2]||(a[2]=a=>e.password2=a),filled:"",type:e.isPwd?"password":"text",label:"Repeat password"},null,8,["modelValue","type"]),(0,l.bF)(c,{label:"Change Password",onClick:e.change_password,color:"green"},null,8,["onClick"])])])}var m=t(5745),p=t(9827),b=t(1964);const g={current_tab:"services",display_icon_purpose:!0,display_icon_osfamily:!0,display_icon_tree_creds:!0,display_icon_tree_hosts:!0,display_icon_tree_vulns:!0},f=(0,l.pM)({setup(){const e=(0,i.A)(),a=(0,s.Pj)(),t=(0,n.KR)(g),o=(0,n.KR)(a.state.current_user),d=(0,n.KR)(a.state.all_tab),r=(0,n.KR)(""),u=(0,n.KR)("");async function c(){if(r.value!=u.value)(0,m.e)(e,"negative","Ошибка","Пароли не совпадают!","report_problem");else if(""==r.value)(0,m.e)(e,"negative","Ошибка","Пароль не должен быть пустым!","report_problem");else{var t=(0,b.y)("user","User","changePasswd"),l={username:o.value.username,password:r.value},n=await(0,p.L)(t,l,null,a.state.current_user.token);void 0!=n&&n&&200==n.status?(0,m.e)(e,"positive",n.message,"","done"):(0,m.e)(e,"negative","Error",n.message,"report_problem")}}function f(){try{a.commit("SET_USER_SETTINGS",t.value),(0,m.e)(e,"positive","Настройки применены","","done")}catch(a){console.log(a),(0,m.e)(e,"negative","Ошибка","","report_problem")}}return(0,l.sV)(()=>{let e=JSON.parse(JSON.stringify(a.state.user_settings));t.value=e}),(0,l.wB)(()=>a.state.user_settings,()=>{if(null!=a.state.user_settings){let e=JSON.parse(JSON.stringify(a.state.user_settings));t.value=e}}),(0,l.wB)(()=>a.state.current_user,()=>{null!=a.state.current_user&&(o.value=a.state.current_user)}),{user_settings:t,password1:r,password2:u,options:d,current_user:o,isPwd:(0,n.KR)(!0),submit:f,change_password:c}}});var v=t(2807),k=t(9270),_=t(492),C=t(6384),F=t(5848),A=t(6908),w=t(386),y=t(8582),I=t.n(y);const h=(0,v.A)(f,[["render",c]]),x=h;I()(f,"components",{QInput:k.A,QIcon:_.A,QBtn:C.A,QSelect:F.A,QToggle:A.A,QSeparator:w.A});t(3150),t(3218);var V=t(8790);const q={key:0},Q={key:1,align:"right"},S={key:2,class:"truncate-text"};function W(e,a,t,o,n,i){const s=(0,l.g2)("q-btn"),d=(0,l.g2)("TableComponentsName"),r=(0,l.g2)("q-icon"),u=(0,l.g2)("q-input"),c=(0,l.g2)("q-checkbox"),m=(0,l.g2)("q-th"),p=(0,l.g2)("q-tr"),b=(0,l.g2)("q-toggle"),g=(0,l.g2)("q-popup-proxy"),f=(0,l.g2)("q-td"),v=(0,l.g2)("q-avatar"),k=(0,l.g2)("q-item-section"),_=(0,l.g2)("q-item-label"),C=(0,l.g2)("q-item"),F=(0,l.g2)("q-list"),A=(0,l.g2)("q-btn-dropdown"),w=(0,l.g2)("q-table"),y=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(w,{title:"Manage accounts",rows:o.Rows,columns:o.columns,"row-key":"id",ref:"q_table",selection:"multiple","selected-rows-label":o.getSelectedString,selected:o.selected,"onUpdate:selected":a[3]||(a[3]=e=>o.selected=e),onSelection:e.handleSelectRow,dense:"",loading:o.loading,filter:o.filter,"virtual-scroll":"","visible-columns":o.visibleColumns,"filter-method":e.customFilter},{"top-left":(0,l.k6)(()=>[(0,l.bF)(s,{color:"green",icon:"add",label:"Add","no-caps":"",size:"sm",class:"button-top",onClick:o.AddItem},null,8,["onClick"]),(0,l.bF)(s,{color:"blue",icon:"refresh",label:"Refresh","no-caps":"",size:"sm",class:"button-top",onClick:a[0]||(a[0]=e=>o.loadData())})]),"top-right":(0,l.k6)(()=>[(0,l.Lk)("div",null,[(0,l.bF)(d,{name:"manage_accounts",label:"Manage accounts",icon:{name:"supervisor_account",color:"grey-9"}}),(0,l.bF)(u,{borderless:"",dense:"",debounce:"300",modelValue:o.filter,"onUpdate:modelValue":a[1]||(a[1]=e=>o.filter=e),placeholder:"Поиск"},{append:(0,l.k6)(()=>[(0,l.bF)(r,{name:"search"})]),_:1},8,["modelValue"])])]),header:(0,l.k6)(e=>[(0,l.bF)(p,{props:e},{default:(0,l.k6)(()=>[1==o.tableSelectable?((0,l.uX)(),(0,l.Wv)(m,{key:0,align:"left"},{default:(0,l.k6)(()=>[(0,l.bF)(c,{modelValue:e.selected,"onUpdate:modelValue":a=>e.selected=a,color:"primary",size:"xs"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):(0,l.Q3)("",!0),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.cols,a=>((0,l.uX)(),(0,l.Wv)(m,{key:a.name,props:e},{default:(0,l.k6)(()=>[(0,l.eW)((0,V.v_)(a.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"]),(0,l.bF)(g,{"context-menu":""},{default:(0,l.k6)(()=>[a[4]||(a[4]=(0,l.Lk)("div",{align:"center"},"Visible Columns",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.columns,e=>((0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(b,{modelValue:o.visibleColumns,"onUpdate:modelValue":a[2]||(a[2]=e=>o.visibleColumns=e),label:e.label,val:e.name},null,8,["modelValue","label","val"])]))),256))]),_:1})]),body:(0,l.k6)(t=>[(0,l.bF)(p,{props:t},{default:(0,l.k6)(()=>[1==o.tableSelectable?((0,l.uX)(),(0,l.Wv)(f,{key:0},{default:(0,l.k6)(()=>[(0,l.bF)(c,{modelValue:t.selected,"onUpdate:modelValue":e=>t.selected=e,color:"primary",size:"xs"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):(0,l.Q3)("",!0),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.cols.filter(e=>"desc"!==e.name),n=>((0,l.uX)(),(0,l.Wv)(f,{key:n.name,align:"center"},{default:(0,l.k6)(()=>["admin"==n.name?((0,l.uX)(),(0,l.CE)("div",q,[(0,l.bF)(b,{disable:"",modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,color:"green"},null,8,["modelValue","onUpdate:modelValue"])])):"actions"==n.name?((0,l.uX)(),(0,l.CE)("div",Q,[(0,l.bF)(A,{class:"glossy",color:"teal",label:"Action",size:"sm",onClick:e.onMainClick},{default:(0,l.k6)(()=>[(0,l.bF)(F,null,{default:(0,l.k6)(()=>[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(C,{clickable:"",onClick:e=>o.chnpassItem(t.row)},{default:(0,l.k6)(()=>[(0,l.bF)(k,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(v,{icon:"password",color:"blue","text-color":"white"})]),_:1}),(0,l.bF)(k,null,{default:(0,l.k6)(()=>[(0,l.bF)(_,null,{default:(0,l.k6)(()=>[...a[5]||(a[5]=[(0,l.eW)("Change password",-1)])]),_:1}),(0,l.bF)(_,{caption:""},{default:(0,l.k6)(()=>[...a[6]||(a[6]=[(0,l.eW)("Сменать пароль",-1)])]),_:1})]),_:1})]),_:1},8,["onClick"])),[[y]]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(C,{clickable:"",onClick:e=>o.EditItem(t.row)},{default:(0,l.k6)(()=>[(0,l.bF)(k,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(v,{icon:"edit",color:"green","text-color":"white"})]),_:1}),(0,l.bF)(k,null,{default:(0,l.k6)(()=>[(0,l.bF)(_,null,{default:(0,l.k6)(()=>[...a[7]||(a[7]=[(0,l.eW)("Edit",-1)])]),_:1}),(0,l.bF)(_,{caption:""},{default:(0,l.k6)(()=>[...a[8]||(a[8]=[(0,l.eW)("Редактировать запись",-1)])]),_:1})]),_:1})]),_:1},8,["onClick"])),[[y]]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(C,{clickable:"",onClick:e=>o.DeleteItem(t.row.id)},{default:(0,l.k6)(()=>[(0,l.bF)(k,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(v,{icon:"delete",color:"red","text-color":"white"})]),_:1}),(0,l.bF)(k,null,{default:(0,l.k6)(()=>[(0,l.bF)(_,null,{default:(0,l.k6)(()=>[...a[9]||(a[9]=[(0,l.eW)("Delete",-1)])]),_:1}),(0,l.bF)(_,{caption:""},{default:(0,l.k6)(()=>[...a[10]||(a[10]=[(0,l.eW)("Удалить запист",-1)])]),_:1})]),_:1})]),_:1},8,["onClick"])),[[y]])]),_:2},1024)]),_:2},1032,["onClick"])])):((0,l.uX)(),(0,l.CE)("div",S,(0,V.v_)(n.value),1))]),_:2},1024))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","selected-rows-label","selected","onSelection","loading","filter","visible-columns","filter-method"])}t(6003);var T=t(6653),R=t(1063),U=t(5536),D=t(5322);const z={class:"q-pa-md"};function K(e,a,t,o,n,i){const s=(0,l.g2)("q-space"),d=(0,l.g2)("q-tooltip"),r=(0,l.g2)("q-btn"),u=(0,l.g2)("q-bar"),c=(0,l.g2)("q-card-section"),m=(0,l.g2)("q-input"),p=(0,l.g2)("q-icon"),b=(0,l.g2)("q-toggle"),g=(0,l.g2)("q-card-actions"),f=(0,l.g2)("q-card"),v=(0,l.g2)("q-dialog"),k=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(v,{ref:"dialogRef",maximized:o.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,l.k6)(()=>[(0,l.bF)(f,{class:"q-dialog-plugin",style:{"min-width":"700px"}},{default:(0,l.k6)(()=>[(0,l.bF)(u,null,{default:(0,l.k6)(()=>[(0,l.bF)(s),(0,l.bF)(r,{dense:"",flat:"",icon:"minimize",onClick:a[0]||(a[0]=e=>o.maximizedToggle=!1),disable:!o.maximizedToggle},{default:(0,l.k6)(()=>[o.maximizedToggle?((0,l.uX)(),(0,l.Wv)(d,{key:0,class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[10]||(a[10]=[(0,l.eW)("Minimize",-1)])]),_:1})):(0,l.Q3)("",!0)]),_:1},8,["disable"]),(0,l.bF)(r,{dense:"",flat:"",icon:"crop_square",onClick:a[1]||(a[1]=e=>o.maximizedToggle=!0),disable:o.maximizedToggle},{default:(0,l.k6)(()=>[o.maximizedToggle?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(d,{key:0,class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[11]||(a[11]=[(0,l.eW)("Maximize",-1)])]),_:1}))]),_:1},8,["disable"]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(r,{dense:"",flat:"",icon:"close"},{default:(0,l.k6)(()=>[(0,l.bF)(d,{class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[12]||(a[12]=[(0,l.eW)("Close",-1)])]),_:1})]),_:1})),[[k]])]),_:1}),(0,l.Lk)("div",z,[(0,l.bF)(c,null,{default:(0,l.k6)(()=>[...a[13]||(a[13]=[(0,l.Lk)("div",{class:"text-h6"}," Add User ",-1)])]),_:1}),(0,l.bF)(m,{id:"ip",filled:"",modelValue:o.row[0].username,"onUpdate:modelValue":a[2]||(a[2]=e=>o.row[0].username=e),hint:"Username",ref:"usernameRef",rules:o.usernameRules},null,8,["modelValue","rules"]),(0,l.bF)(m,{filled:"",modelValue:o.row[0].password,"onUpdate:modelValue":a[4]||(a[4]=e=>o.row[0].password=e),hint:"Password",type:o.isPwd?"password":"text",ref:"passwordRef",rules:o.passwordRules},{append:(0,l.k6)(()=>[(0,l.bF)(p,{name:o.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[3]||(a[3]=e=>o.isPwd=!o.isPwd)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),(0,l.bF)(m,{filled:"",modelValue:o.row[0].fullname,"onUpdate:modelValue":a[5]||(a[5]=e=>o.row[0].fullname=e),hint:"Полное имя"},null,8,["modelValue"]),(0,l.bF)(m,{filled:"",modelValue:o.row[0].email,"onUpdate:modelValue":a[6]||(a[6]=e=>o.row[0].email=e),hint:"E-mail"},null,8,["modelValue"]),(0,l.bF)(m,{filled:"",modelValue:o.row[0].phone,"onUpdate:modelValue":a[7]||(a[7]=e=>o.row[0].phone=e),hint:"Телефон"},null,8,["modelValue"]),(0,l.bF)(m,{filled:"",modelValue:o.row[0].company,"onUpdate:modelValue":a[8]||(a[8]=e=>o.row[0].company=e),hint:"Компания"},null,8,["modelValue"]),(0,l.bF)(b,{modelValue:o.row[0].admin,"onUpdate:modelValue":a[9]||(a[9]=e=>o.row[0].admin=e),label:"Администратор",color:"green"},null,8,["modelValue"])]),(0,l.bF)(g,{align:"right"},{default:(0,l.k6)(()=>[(0,l.bF)(r,{color:"green",label:"OK",onClick:o.onOKClick},null,8,["onClick"]),(0,l.bF)(r,{color:"red",label:"Cancel",onClick:o.onCancelClick},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["maximized"])}t(2500);var P=t(9583);const N={props:{current_host_prop:String,current_host_label_prop:String},emits:[...P.A.emits],setup(e){const{dialogRef:a,onDialogHide:t,onDialogOK:o,onDialogCancel:d}=(0,P.A)(),r=(0,i.A)(),u=(0,s.Pj)(),c=(0,n.KR)(""),g=(0,n.KR)(""),f=(0,n.KR)([{id:-1,username:"",password:"",fullname:"",email:"",phone:"",company:"",prefs:"",admin:!1}]);async function v(e){var a=(0,b.y)("table","Users","addItem"),t={workspace:u.state.current_project,data:e},l=await(0,p.L)(a,t,null,u.state.current_user.token);void 0!=l&&0!=l&&(200==l.status?(f.value[0].id=l.id,o({row:f}),(0,m.e)(r,"positive","Запись добавлена","","done")):(0,m.e)(r,"negative","Ошибка",l.message,"report_problem"))}return(0,l.sV)(()=>{}),{dialogRef:a,row:f,add_user:v,maximizedToggle:(0,n.KR)(!1),usernameRef:c,passwordRef:g,isPwd:(0,n.KR)(!0),usernameRules:[e=>null!=e&&""!=e||"Поле Username не должно быть пустым"],passwordRules:[e=>null!=e&&""!=e||"Поле Password не должно быть пустым"],onDialogHide:t,onOKClick(){c.value.validate(),g.value.validate(),c.value.hasError||g.value.hasError||v(JSON.stringify(f.value[0]))},onCancelClick:d}}};var E=t(2156),L=t(3316),O=t(8670),j=t(3676),X=t(7410),M=t(4189),B=t(2669),J=t(8672);const H=(0,v.A)(N,[["render",K]]),$=H;I()(N,"components",{QDialog:E.A,QCard:L.A,QBar:O.A,QSpace:j.A,QBtn:C.A,QTooltip:X.A,QCardSection:M.A,QInput:k.A,QIcon:_.A,QToggle:A.A,QCardActions:B.A}),I()(N,"directives",{ClosePopup:J.A});const Y={class:"q-pa-md"},G={class:"text-h6"};function Z(e,a,t,o,n,i){const s=(0,l.g2)("q-space"),d=(0,l.g2)("q-tooltip"),r=(0,l.g2)("q-btn"),u=(0,l.g2)("q-bar"),c=(0,l.g2)("font"),m=(0,l.g2)("q-card-section"),p=(0,l.g2)("q-input"),b=(0,l.g2)("q-toggle"),g=(0,l.g2)("q-card-actions"),f=(0,l.g2)("q-card"),v=(0,l.g2)("q-dialog"),k=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(v,{ref:"dialogRef",maximized:o.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,l.k6)(()=>[(0,l.bF)(f,{class:"q-dialog-plugin",style:{"min-width":"700px"}},{default:(0,l.k6)(()=>[(0,l.bF)(u,null,{default:(0,l.k6)(()=>[(0,l.bF)(s),(0,l.bF)(r,{dense:"",flat:"",icon:"minimize",onClick:a[0]||(a[0]=e=>o.maximizedToggle=!1),disable:!o.maximizedToggle},{default:(0,l.k6)(()=>[o.maximizedToggle?((0,l.uX)(),(0,l.Wv)(d,{key:0,class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[9]||(a[9]=[(0,l.eW)("Minimize",-1)])]),_:1})):(0,l.Q3)("",!0)]),_:1},8,["disable"]),(0,l.bF)(r,{dense:"",flat:"",icon:"crop_square",onClick:a[1]||(a[1]=e=>o.maximizedToggle=!0),disable:o.maximizedToggle},{default:(0,l.k6)(()=>[o.maximizedToggle?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(d,{key:0,class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[10]||(a[10]=[(0,l.eW)("Maximize",-1)])]),_:1}))]),_:1},8,["disable"]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(r,{dense:"",flat:"",icon:"close"},{default:(0,l.k6)(()=>[(0,l.bF)(d,{class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[11]||(a[11]=[(0,l.eW)("Close",-1)])]),_:1})]),_:1})),[[k]])]),_:1}),(0,l.Lk)("div",Y,[(0,l.bF)(m,null,{default:(0,l.k6)(()=>[(0,l.Lk)("div",G,[a[12]||(a[12]=(0,l.eW)(" Edit User ",-1)),(0,l.bF)(c,{color:"red"},{default:(0,l.k6)(()=>[(0,l.eW)((0,V.v_)(o.prop1.username),1)]),_:1})])]),_:1}),(0,l.bF)(p,{id:"ip",filled:"",modelValue:o.prop1.username,"onUpdate:modelValue":a[2]||(a[2]=e=>o.prop1.username=e),hint:"Username",readonly:"",ref:"usernameRef",rules:o.usernameRules},null,8,["modelValue","rules"]),(0,l.bF)(p,{filled:"",modelValue:o.prop1.fullname,"onUpdate:modelValue":a[3]||(a[3]=e=>o.prop1.fullname=e),hint:"Полное имя"},null,8,["modelValue"]),(0,l.bF)(p,{filled:"",modelValue:o.prop1.email,"onUpdate:modelValue":a[4]||(a[4]=e=>o.prop1.email=e),hint:"E-mail"},null,8,["modelValue"]),(0,l.bF)(p,{filled:"",modelValue:o.prop1.phone,"onUpdate:modelValue":a[5]||(a[5]=e=>o.prop1.phone=e),hint:"Телефон"},null,8,["modelValue"]),(0,l.bF)(p,{filled:"",modelValue:o.prop1.company,"onUpdate:modelValue":a[6]||(a[6]=e=>o.prop1.company=e),hint:"Компания"},null,8,["modelValue"]),"admin"!=o.prop1.username?((0,l.uX)(),(0,l.Wv)(b,{key:0,modelValue:o.prop1.admin,"onUpdate:modelValue":a[7]||(a[7]=e=>o.prop1.admin=e),label:"Администратор",color:"green"},null,8,["modelValue"])):((0,l.uX)(),(0,l.Wv)(b,{key:1,disable:"",modelValue:o.prop1.admin,"onUpdate:modelValue":a[8]||(a[8]=e=>o.prop1.admin=e),label:"Администратор",color:"green"},null,8,["modelValue"]))]),(0,l.bF)(g,{align:"right"},{default:(0,l.k6)(()=>[(0,l.bF)(r,{color:"green",label:"OK",onClick:o.onOKClick},null,8,["onClick"]),(0,l.bF)(r,{color:"red",label:"Cancel",onClick:o.onCancelClick},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["maximized"])}const ee={props:{selected_items:Array},emits:[...P.A.emits],setup(e){const{dialogRef:a,onDialogHide:t,onDialogOK:o,onDialogCancel:d}=(0,P.A)(),r=(0,i.A)(),u=(0,s.Pj)(),c=(0,n.KR)("");(0,n.KR)("");var g=null;const f=(0,n.KR)(JSON.parse(JSON.stringify(e.selected_items)));async function v(e){var a=(0,b.y)("table","Users","editItem"),t={workspace:u.state.current_project,data:e},l=await(0,p.L)(a,t,null,u.state.current_user.token);void 0!=l&&0!=l&&(200==l.status?(g=f.value,o({prop:g}),(0,m.e)(r,"positive","Запись отредактирована","","done")):(0,m.e)(r,"negative","Ошибка",l.message,"report_problem"))}return(0,l.sV)(()=>{}),{dialogRef:a,maximizedToggle:(0,n.KR)(!1),edit_user:v,usernameRef:c,prop1:f,isPwd:(0,n.KR)(!0),usernameRules:[e=>null!=e&&""!=e||"Поле Username не должно быть пустым"],onDialogHide:t,onOKClick(){c.value.validate(),c.value.hasError||v(JSON.stringify(f.value))},onCancelClick:d}}},ae=(0,v.A)(ee,[["render",Z]]),te=ae;I()(ee,"components",{QDialog:E.A,QCard:L.A,QBar:O.A,QSpace:j.A,QBtn:C.A,QTooltip:X.A,QCardSection:M.A,QInput:k.A,QToggle:A.A,QCardActions:B.A}),I()(ee,"directives",{ClosePopup:J.A});const le={class:"q-pa-md",style:{"max-width":"400px"}},oe={class:"text-h6"};function ne(e,a,t,o,n,i){const s=(0,l.g2)("font"),d=(0,l.g2)("q-icon"),r=(0,l.g2)("q-input"),u=(0,l.g2)("q-form"),c=(0,l.g2)("q-btn"),m=(0,l.g2)("q-card-actions"),p=(0,l.g2)("q-card"),b=(0,l.g2)("q-dialog");return(0,l.uX)(),(0,l.Wv)(b,{ref:"dialogRef",onHide:o.onDialogHide},{default:(0,l.k6)(()=>[(0,l.bF)(p,{class:"q-dialog-plugin"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",le,[(0,l.bF)(u,{onSubmit:e.onSubmit,onReset:e.onReset,class:"q-gutter-md"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",oe,[a[3]||(a[3]=(0,l.eW)(" Change Password ",-1)),(0,l.bF)(s,{color:"red"},{default:(0,l.k6)(()=>[(0,l.eW)((0,V.v_)(o.prop1.username),1)]),_:1})]),(0,l.bF)(r,{modelValue:o.password1,"onUpdate:modelValue":a[1]||(a[1]=e=>o.password1=e),filled:"",type:o.isPwd?"password":"text",label:"Введите пароль"},{append:(0,l.k6)(()=>[(0,l.bF)(d,{name:o.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[0]||(a[0]=e=>o.isPwd=!o.isPwd)},null,8,["name"])]),_:1},8,["modelValue","type"]),(0,l.bF)(r,{modelValue:o.password2,"onUpdate:modelValue":a[2]||(a[2]=e=>o.password2=e),filled:"",type:o.isPwd?"password":"text",label:"Подтвердите ввод"},null,8,["modelValue","type"])]),_:1},8,["onSubmit","onReset"])]),(0,l.bF)(m,{align:"right"},{default:(0,l.k6)(()=>[(0,l.bF)(c,{color:"green",label:"OK",onClick:o.onOKClick},null,8,["onClick"]),(0,l.bF)(c,{color:"red",label:"Cancel",onClick:o.onCancelClick},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"])}const ie={props:{selected_items:Array},emits:[...P.A.emits],setup(e){const{dialogRef:a,onDialogHide:t,onDialogOK:o,onDialogCancel:d}=(0,P.A)(),r=(0,i.A)(),u=(0,s.Pj)(),c=(0,n.KR)(""),g=(0,n.KR)("");var f=null;const v=(0,n.KR)(JSON.parse(JSON.stringify(e.selected_items)));async function k(e){var a=(0,b.y)("user","User","changePasswd"),t={username:e.username,password:g.value},l=await(0,p.L)(a,t,null,u.state.current_user.token);void 0!=l&&0!=l&&(200==l.status?(o({prop:f}),(0,m.e)(r,"positive","Пароль изменен","","done")):(0,m.e)(r,"negative","Ошибка",l.message,"report_problem"))}return(0,l.sV)(()=>{}),{dialogRef:a,prop1:v,prop:f,change_password:k,password1:c,password2:g,isPwd:(0,n.KR)(!0),onDialogHide:t,onOKClick(){c.value!=g.value?r.notify({color:"negative",position:"bottom",caption:"Пароли не совпадают!",message:"Ошибка",icon:"report_problem"}):""==c.value?r.notify({color:"negative",position:"bottom",caption:"Пароль не должен быть пустым!",message:"Ошибка",icon:"report_problem"}):k(v.value)},onCancelClick:d}}};var se=t(9200);const de=(0,v.A)(ie,[["render",ne]]),re=de;I()(ie,"components",{QDialog:E.A,QCard:L.A,QForm:se.A,QInput:k.A,QIcon:_.A,QCardActions:B.A,QBtn:C.A});const ue=[{name:"id",field:"id",label:"ID",align:"center",field:e=>e.id,format:e=>`${e}`,sortable:!0},{name:"username",label:"Имя пользователя",align:"center",field:"username",sortable:!0},{name:"fullname",label:"Полное имя",align:"center",field:"fullname",sortable:!0},{name:"email",label:"E-mail",align:"center",field:"email",sortable:!0},{name:"phone",label:"Телефон",align:"center",field:"phone",sortable:!0},{name:"company",label:"Организация",align:"center",field:"company",sortable:!0},{name:"prefs",label:"Пользовательские настройки",align:"center",field:"prefs",sortable:!0},{name:"admin",label:"Административная учетная запись",align:"center",field:"admin",sortable:!0},{name:"actions",label:"Actions",field:"actions"}],ce=[],me={name:"Settings_ManageAccounts",components:{ActionsButtons:R.A,DownloadButtonMenu:U.A,TableComponentsName:D.A},setup(){const e=(0,s.Pj)(),a=(0,i.A)(),t=(0,n.KR)([]),o=(0,n.KR)([...ce]),d=(0,n.KR)(!1),r=(0,n.KR)(""),u=(0,n.KR)(!1),c=(0,n.KR)(null);async function g(l){var n=(0,b.y)("table","Users","delItem"),i={data:l},s=await(0,p.L)(n,i,null,e.state.current_user.token);void 0!=s&&0!=s&&(200==s.status?(o.value=o.value.filter(e=>e.id!==l),t.value=t.value.filter(e=>e.id!=l),(0,m.e)(a,"positive","Запись удалена","","done")):(0,m.e)(a,"negative","Ошибка",s.message,"report_problem"))}function f(){for(var e=t.value.filter(e=>e.id),a=0;a<e.length;a++)g(e[a])}function v(){a.dialog({component:$,componentProps:{}}).onOk(e=>{o.value.push(e.row.value[0])})}function k(e){var t=o.value.find(a=>a.id==e.id);a.dialog({component:te,componentProps:{selected_items:t}}).onOk(e=>{if(void 0!=e){const a=o.value.findIndex(a=>a.id==e.prop.id);a>-1&&(o.value[a]=e.prop)}})}function _(){return!(t.value.length>0)}function C(e){var t=o.value.find(a=>a.id==e.id);a.dialog({component:re,componentProps:{selected_items:t}}).onOk(e=>{})}async function F(){d.value=!0;var t=(0,b.y)("table","Users","getItem"),l={fulldata:!0},n=await(0,p.b)(t,l,e.state.current_user.token);void 0!=n&&n||Array.isArray(1==n)?(o.value=n,d.value=!1):(d.value=!1,n.hasOwnProperty("message")&&(0,m.e)(a,"negative","Error",n.message,"report_problem"))}return(0,l.sV)(()=>{F()}),{selected:t,loading:d,columns:ue,AddItem:v,EditItem:k,DeleteItem:g,deleteItems:f,btn_disable:_,Rows:o,q_table:c,filter:r,tableSelectable:u,chnpassItem:C,visibleColumns:(0,n.KR)(["username","fullname","prefs","admin","actions"]),loadData:F,getSelectedString(){return 0===t.value.length?"":`${t.value.length} record${t.value.length>1?"s":""} selected of ${ce.length}`}}}};var pe=t(4488),be=t(7722),ge=t(460),fe=t(8975),ve=t(5262),ke=t(1207),_e=t(3999),Ce=t(124),Fe=t(5173),Ae=t(3952),we=t(3796);const ye=(0,v.A)(me,[["render",W]]),Ie=ye;I()(me,"components",{QTable:T.A,QBtn:C.A,QToggle:A.A,QInput:k.A,QIcon:_.A,QTr:pe.A,QTh:be.A,QCheckbox:ge.A,QPopupProxy:fe.A,QTd:ve.A,QBtnDropdown:ke.A,QList:_e.A,QItem:Ce.A,QItemSection:Fe.A,QAvatar:Ae.A,QItemLabel:we.A}),I()(me,"directives",{ClosePopup:J.A});const he=(0,l.pM)({components:{Settings_UsersSettings:x,Settings_UsersControl:Ie},name:"Settings",setup(){(0,i.A)();const e=(0,s.Pj)(),a=(0,d.rd)(),t=(0,n.KR)(e.state.current_user);function o(e){a.push(e)}return(0,l.wB)(()=>e.state.current_user,()=>{t.value=e.state.current_user}),(0,l.sV)(()=>{}),{current_user:t,tab:(0,n.KR)("users_settings"),pushWithQuery:o}}});var xe=t(2980),Ve=t(327),qe=t(9041),Qe=t(1746);const Se=(0,v.A)(he,[["render",o]]),We=Se;I()(he,"components",{QCard:L.A,QTabs:xe.A,QTab:Ve.A,QSeparator:w.A,QTabPanels:qe.A,QTabPanel:Qe.A})},1964:(e,a,t)=>{t.d(a,{y:()=>o});const l=[{obj:"columns",name:"Information",getItem:"/api/v1/ColumnsInformation"},{obj:"login",name:"Login",login:"/login"},{obj:"user",name:"User",changePasswd:"/api/v1/User/changePassword"},{obj:"settings",name:"Information",getItem:"/api/v1/Settings/"},{obj:"table",name:"Workspaces",getItem:"/api/v1/Workspaces",addItem:"/api/v1/Workspaces/addItem",editItem:"/api/v1/Workspaces/editItem",delItem:"/api/v1/Workspaces/delItem"},{obj:"table",name:"UserTasks",getItem:"/api/v1/UserTasks",addItem:"/api/v1/UserTasks/addItem",editItem:"/api/v1/UserTasks/editItem",delItem:"/api/v1/UserTasks/delItem"},{obj:"table",name:"Users",getItem:"/api/v1/Users",addItem:"/api/v1/Users/addItem",editItem:"/api/v1/Users/editItem",delItem:"/api/v1/Users/delItem"},{obj:"table",name:"Hosts",getItem:"/api/v1/Hosts",addItem:"/api/v1/Hosts/addItem",editItem:"/api/v1/Hosts/editItem",delItem:"/api/v1/Hosts/delItem",getUnicOSName:"/api/v1/Hosts/getNameOS",getUnicIP:"/api/v1/Hosts/UnicIP"},{obj:"table",name:"Services",getItem:"/api/v1/Services",getUnicName:"/api/v1/Services/UnicServicesName",addItem:"/api/v1/Services/addItem",editItem:"/api/v1/Services/editItem",delItem:"/api/v1/Services/delItem"},{obj:"table",name:"Notes",getItem:"/api/v1/Notes",getUnicName:"/api/v1/Notes/UnicType",addItem:"/api/v1/Notes/addItem",editItem:"/api/v1/Notes/editItem",delItem:"/api/v1/Notes/delItem"},{obj:"table",name:"Creds",getItem:"/api/v1/Creds",addItem:"/api/v1/Creds/addItem",editItem:"/api/v1/Creds/editItem",delItem:"/api/v1/Creds/delItem"},{obj:"table",name:"Vulns",getItem:"/api/v1/Vulns",getUnicName:"/api/v1/Vulns/UnicName",getRefs:"/api/v1/Vulns/UnicRefs",addRef:"/api/v1/Vulns/addRef",addItem:"/api/v1/Vulns/addItem",editItem:"/api/v1/Vulns/editItem",delItem:"/api/v1/Vulns/delItem"},{obj:"table",name:"Loots",getItem:"/api/v1/Loots",getUnicName:"/api/v1/Loots/UnicType",addItem:"/api/v1/Loots/addItem",editItem:"/api/v1/Loots/editItem",delItem:"/api/v1/Loots/delItem"},{obj:"table",name:"Web",getSites:"/api/v1/Web/Sites",getPageInfo:"/api/v1/Web/Sites/Page/Info",getFormInfo:"/api/v1/Web/Sites/Form/Info",getVulnInfo:"/api/v1/Web/Sites/Vuln/Info",getPathInfo:"/api/v1/Web/Sites/PathInfo",delPath:"/api/v1/Web/Sites/delPath",addComment:"/api/v1/Web/Sites/addComment",editComment:"/api/v1/Web/Sites/editComment",editPage:"/api/v1/Web/Sites/Page/editItem",delPage:"/api/v1/Web/Sites/Page/delItem",editForm:"/api/v1/Web/Sites/Form/editItem",delForm:"/api/v1/Web/Sites/Form/delItem",editVuln:"/api/v1/Web/Sites/Vuln/editItem",delVuln:"/api/v1/Web/Sites/Vuln/delItem",addInfo:"/api/v1/Web/Sites/addInfo",getCountInformation:"/api/v1/Web/Sites/CountInfo",getSiteStruct:"/api/v1/Web/Sites/Struct",getUnicName:"/api/v1/Web/UnicType",addSite:"/api/v1/Web/Sites/addItem",editSite:"/api/v1/Web/Sites/editItem",delSite:"/api/v1/Web/Sites/delItem"},{obj:"table",name:"Sessions",getSessions:"/api/v1/Sessions",getSessionData:"/api/v1/Sessions/Data",getSessionEvents:"/api/v1/Sessions/Events"},{obj:"tree",name:"Tree",getItem:"/api/v1/Tree",delItem:"/api/v1/Tree/delItem"},{obj:"json",name:"CountInformation",getItem:"/api/v1/CountInformation",delItem:"/api/v1/Tree/delItem"},{obj:"files",name:"Upload",upload:"api/v1/upload"}];function o(e,a,t,o=null){var n="";try{n=null==o?l.filter(t=>t.obj==e&&t.name.toLowerCase()==a.toLowerCase()).shift()[t]:l.filter(t=>t.obj==e&&t.name.toLowerCase()==a.toLowerCase()).shift()[t][o]}catch(e){console.error(e)}finally{return n}}},5322:(e,a,t)=>{t.d(a,{A:()=>A});var l=t(1758),o=t(8790);const n={class:"row wrap justify-start items-start content-start"},i={class:"row"},s={key:0,class:"column"},d={class:"row"};function r(e,a,t,r,u,c){const m=(0,l.g2)("q-icon"),p=(0,l.g2)("q-avatar"),b=(0,l.g2)("q-label"),g=(0,l.g2)("q-badge"),f=(0,l.g2)("q-tooltip"),v=(0,l.g2)("q-btn");return(0,l.uX)(),(0,l.CE)("div",n,[null!=r.Icon?((0,l.uX)(),(0,l.Wv)(p,{key:0},{default:(0,l.k6)(()=>[(0,l.bF)(m,{name:r.Icon.name,size:"lg",color:r.Icon.color},null,8,["name","color"])]),_:1})):(0,l.Q3)("",!0),(0,l.Lk)("div",i,[(0,l.Lk)("div",null,[(0,l.bF)(b,{class:"text-h4"},{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(r.Label),1)]),_:1})]),"manage_accounts"!=r.Name?((0,l.uX)(),(0,l.CE)("div",s,[(0,l.Lk)("div",null,[null!=r.TreeNode?((0,l.uX)(),(0,l.Wv)(g,{key:0,align:"top",class:"truncate-text"},{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(r.TreeNode.label),1)]),_:1})):(0,l.Q3)("",!0)]),(0,l.Lk)("div",d,[(0,l.bF)(v,{flat:"",round:"",color:"black",icon:"backup_table",size:"sm",onClick:a[0]||(a[0]=e=>r.setMainLayout())},{default:(0,l.k6)(()=>[(0,l.bF)(f,null,{default:(0,l.k6)(()=>[...a[2]||(a[2]=[(0,l.eW)(" Сменить слой ",-1)])]),_:1})]),_:1}),"split"==r.UserSettings.main_layout?((0,l.uX)(),(0,l.Wv)(v,{key:0,flat:"",round:"",color:r.PinColor,icon:"push_pin",size:"sm",onClick:a[1]||(a[1]=e=>r.setCurrentTab())},{default:(0,l.k6)(()=>[(0,l.bF)(f,null,{default:(0,l.k6)(()=>[...a[3]||(a[3]=[(0,l.eW)(" Закрепить компонент вверху ",-1)])]),_:1})]),_:1},8,["color"])):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0)])])}var u=t(8734),c=t(6980);const m={props:{name:{type:String,default:null},label:{type:String,default:null},icon:{type:String,default:null}},components:{},emits:[],setup(e){const a=(0,c.Pj)(),t=(0,u.KR)(a.state.current_tree_node),o=(0,u.KR)(a.state.user_settings),n=(0,u.KR)(e.name),i=(0,u.KR)(e.label),s=(0,u.KR)(e.icon),d=(0,u.KR)(null);function r(){a.commit("SET_CURRENT_TAB",n.value)}function m(){"split"==o.value.main_layout?o.value.main_layout="single":o.value.main_layout="split",localStorage.setItem("user_settings",JSON.stringify(o.value)),a.commit("SET_USER_SETTINGS",JSON.parse(localStorage["user_settings"]))}return(0,l.sV)(()=>{a.state.current_tab==n.value?d.value="red":d.value="grey"}),(0,l.wB)(()=>a.state.current_tree_node,()=>{null!=a.state.current_tree_node&&(t.value=a.state.current_tree_node,a.state.current_tab==n.value?d.value="red":d.value="grey")}),{store:a,TreeNode:t,Name:n,Label:i,Icon:s,PinColor:d,UserSettings:o,setCurrentTab:r,setMainLayout:m}}};var p=t(2807),b=t(3952),g=t(492),f=t(3954),v=t(6384),k=t(7410),_=t(8582),C=t.n(_);const F=(0,p.A)(m,[["render",r]]),A=F;C()(m,"components",{QAvatar:b.A,QIcon:g.A,QBadge:f.A,QBtn:v.A,QTooltip:k.A})},5536:(e,a,t)=>{t.d(a,{A:()=>y});var l=t(1758);function o(e,a,t,o,n,i){const s=(0,l.g2)("q-img"),d=(0,l.g2)("q-item-section"),r=(0,l.g2)("q-item"),u=(0,l.g2)("q-list"),c=(0,l.g2)("q-menu"),m=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(c,null,{default:(0,l.k6)(()=>[(0,l.bF)(u,{style:{"min-width":"100px"}},{default:(0,l.k6)(()=>[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(r,{onClick:a[0]||(a[0]=e=>o.export_to_csv(o.Table)),clickable:""},{default:(0,l.k6)(()=>[(0,l.bF)(d,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(s,{class:"node_icon",src:"icons/extensions/csv.png"})]),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[...a[2]||(a[2]=[(0,l.eW)(" CSV ",-1)])]),_:1})]),_:1})),[[m]]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(r,{onClick:a[1]||(a[1]=e=>o.export_to_xls(o.Table)),clickable:""},{default:(0,l.k6)(()=>[(0,l.bF)(d,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(s,{class:"node_icon",src:"icons/extensions/excel.png"})]),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[...a[3]||(a[3]=[(0,l.eW)(" XLS ",-1)])]),_:1})]),_:1})),[[m]])]),_:1})]),_:1})}var n=t(8734),i=(t(3150),t(8268),t(6653),t(4907)),s=t(7396);t(5735);function d(e){const a=[e.columns.map(e=>r(e.label))].concat(e.filteredSortedRows.map(a=>e.columns.map(e=>r("function"===typeof e.field?e.field(a):c(a[void 0===e.field?e.name:e.field]),e.format)).join(","))).join("\r\n");(0,s.A)(e.title+".csv","\ufeff"+a,"text/csv")}function r(e,a){let t=void 0!==a?a(e):e;return t=void 0===t||null===t?"":String(t),t=t.split('"').join('""'),`"${t}"`}function u(e){(0,i.A)();let a='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>',t="<thead>";Object.keys(e).length;t+="<tr>";for(let a in e.columns)t+="<th>"+e.columns[a].label+"</th>";t+="</tr>",t+="</thead>",t+="<tbody>",e.filteredSortedRows.map(function(e,a){t+="<tr>";for(let a in e)t+="<td>"+m(c(e[a]))+"</td>";t+="</tr>"}),t+="</tbody>";(0,s.A)(e.title+".xls","\ufeff"+a.replace("${table}",t).replace("${worksheet}",e.title),"text/xls")}function c(e){try{"object"==typeof e&&(e=JSON.stringify(JSON.parse(JSON.stringify(e)),null,2))}catch{Err}return e}function m(e){return"string"==typeof e?e.replace(/\n/gi,"<br/>"):null==e?"".replace(/\n/gi,"<br/>"):e}const p={name:"DownloadButtonMenu",emits:[],props:{table:{type:Object,default:null}},setup(e,{emit:a}){const t=(0,n.KR)(e.table);return(0,l.nT)(()=>{t.value=e.table}),{Table:t,export_to_csv:d,export_to_xls:u}}};var b=t(2807),g=t(4436),f=t(3999),v=t(124),k=t(5173),_=t(5046),C=t(8672),F=t(8582),A=t.n(F);const w=(0,b.A)(p,[["render",o]]),y=w;A()(p,"components",{QMenu:g.A,QList:f.A,QItem:v.A,QItemSection:k.A,QImg:_.A}),A()(p,"directives",{ClosePopup:C.A})},6171:(e,a,t)=>{t.d(a,{A:()=>P});t(3150),t(3218);var l=t(1758),o=t(8790);const n={class:"q-pa-md"},i={class:"text-h6"};function s(e,a,t,s,d,r){const u=(0,l.g2)("q-space"),c=(0,l.g2)("q-tooltip"),m=(0,l.g2)("q-btn"),p=(0,l.g2)("q-bar"),b=(0,l.g2)("q-img"),g=(0,l.g2)("q-avatar"),f=(0,l.g2)("q-card-section"),v=(0,l.g2)("q-label"),k=(0,l.g2)("q-toggle"),_=(0,l.g2)("q-icon"),C=(0,l.g2)("q-input"),F=(0,l.g2)("q-checkbox"),A=(0,l.g2)("q-item-label"),w=(0,l.g2)("q-item-section"),y=(0,l.g2)("q-item"),I=(0,l.g2)("q-select"),h=(0,l.g2)("q-card-actions"),x=(0,l.g2)("q-card"),V=(0,l.g2)("q-dialog"),q=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(V,{ref:"dialogRef",maximized:s.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,l.k6)(()=>[(0,l.bF)(x,{class:"q-dialog-plugin",style:{"min-width":"700px"}},{default:(0,l.k6)(()=>[(0,l.bF)(p,null,{default:(0,l.k6)(()=>[(0,l.bF)(u),(0,l.bF)(m,{dense:"",flat:"",icon:"minimize",onClick:a[0]||(a[0]=e=>s.maximizedToggle=!1),disable:!s.maximizedToggle},{default:(0,l.k6)(()=>[s.maximizedToggle?((0,l.uX)(),(0,l.Wv)(c,{key:0,class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[9]||(a[9]=[(0,l.eW)("Minimize",-1)])]),_:1})):(0,l.Q3)("",!0)]),_:1},8,["disable"]),(0,l.bF)(m,{dense:"",flat:"",icon:"crop_square",onClick:a[1]||(a[1]=e=>s.maximizedToggle=!0),disable:s.maximizedToggle},{default:(0,l.k6)(()=>[s.maximizedToggle?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(c,{key:0,class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[10]||(a[10]=[(0,l.eW)("Maximize",-1)])]),_:1}))]),_:1},8,["disable"]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(m,{dense:"",flat:"",icon:"close"},{default:(0,l.k6)(()=>[(0,l.bF)(c,{class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[11]||(a[11]=[(0,l.eW)("Close",-1)])]),_:1})]),_:1})),[[q]])]),_:1}),(0,l.Lk)("div",n,[(0,l.bF)(f,{class:"fit row wrap justify-start items-start content-start"},{default:(0,l.k6)(()=>[(0,l.bF)(g,{size:"md"},{default:(0,l.k6)(()=>[(0,l.bF)(b,{src:"icons/workspaces/project.png"})]),_:1}),(0,l.Lk)("div",i,(0,o.v_)(s.CardName),1)]),_:1}),(0,l.bF)(f,null,{default:(0,l.k6)(()=>[(0,l.bF)(k,{modelValue:s.CardData.status,"onUpdate:modelValue":a[2]||(a[2]=e=>s.CardData.status=e)},{default:(0,l.k6)(()=>[s.CardData.status?((0,l.uX)(),(0,l.Wv)(v,{key:0},{default:(0,l.k6)(()=>[...a[12]||(a[12]=[(0,l.eW)("Текущий проект",-1)])]),_:1})):((0,l.uX)(),(0,l.Wv)(v,{key:1},{default:(0,l.k6)(()=>[...a[13]||(a[13]=[(0,l.eW)("Сделать проектом текущим?",-1)])]),_:1}))]),_:1},8,["modelValue"]),(0,l.bF)(C,{filled:"",modelValue:s.CardData.name,"onUpdate:modelValue":a[3]||(a[3]=e=>s.CardData.name=e),label:"Название проекта",hint:"Text","lazy-rules":""},{before:(0,l.k6)(()=>[(0,l.bF)(_,{name:"article"})]),_:1},8,["modelValue"]),(0,l.bF)(C,{filled:"",modelValue:s.CardData.description,"onUpdate:modelValue":a[4]||(a[4]=e=>s.CardData.description=e),label:"Описание проекта",hint:"Text","lazy-rules":"",autogrow:""},{before:(0,l.k6)(()=>[(0,l.bF)(_,{name:"description"})]),_:1},8,["modelValue"]),(0,l.Lk)("div",null,[(0,l.bF)(F,{modelValue:s.CardData.limit_to_network,"onUpdate:modelValue":a[5]||(a[5]=e=>s.CardData.limit_to_network=e),label:"Ограничение на подсети"},null,8,["modelValue"])]),1==s.CardData.limit_to_network?((0,l.uX)(),(0,l.Wv)(C,{key:0,filled:"",modelValue:s.CardData.boundary,"onUpdate:modelValue":a[6]||(a[6]=e=>s.CardData.boundary=e),label:"Диапазоны сетей",hint:"Text","lazy-rules":"",autogrow:""},{before:(0,l.k6)(()=>[(0,l.bF)(_,{name:"cloud"})]),_:1},8,["modelValue"])):(0,l.Q3)("",!0),(0,l.bF)(I,{clearable:"",modelValue:s.CardData.owner,"onUpdate:modelValue":a[7]||(a[7]=e=>s.CardData.owner=e),options:s.options.filter(e=>e.id==s.store.state.current_user.id),label:"Владелец",hint:"Object",onInputValue:e.setModel},{before:(0,l.k6)(()=>[(0,l.bF)(_,{name:"account_circle"})]),option:(0,l.k6)(e=>[(0,l.bF)(y,(0,o._B)((0,l.Ng)(e.itemProps)),{default:(0,l.k6)(()=>[(0,l.bF)(w,null,{default:(0,l.k6)(()=>[(0,l.bF)(A,null,{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(e.opt.username),1)]),_:2},1024),(0,l.bF)(A,{caption:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(e.opt.fullname),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onInputValue"]),(0,l.bF)(I,{modelValue:s.CardData.members,"onUpdate:modelValue":a[8]||(a[8]=e=>s.CardData.members=e),multiple:"",options:s.options,label:"Участники проекта",hint:"Objects",onInputValue:e.setModel,"options-selected-class":"text-teal"},{before:(0,l.k6)(()=>[(0,l.bF)(_,{name:"groups"})]),option:(0,l.k6)(e=>[(0,l.bF)(y,(0,o._B)((0,l.Ng)(e.itemProps)),{default:(0,l.k6)(()=>[(0,l.bF)(w,null,{default:(0,l.k6)(()=>[(0,l.bF)(A,null,{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(e.opt.username),1)]),_:2},1024),(0,l.bF)(A,{caption:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(e.opt.fullname),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onInputValue"])]),_:1})]),(0,l.bF)(h,{align:"right"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{color:"green",label:"OK",onClick:s.onOKClick},null,8,["onClick"]),(0,l.bF)(m,{color:"red",label:"Cancel",onClick:s.onCancelClick},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["maximized"])}t(6003),t(8268);var d=t(9583),r=t(8734),u=t(4907),c=t(6980),m=t(9827),p=t(1964),b=t(5745);const g={props:{CardAction:{type:String,default:null},CardName:{type:String,default:null},CardData:{type:Object,default:null}},emits:[...d.A.emits],setup(e){const{dialogRef:a,onDialogHide:t,onDialogOK:o,onDialogCancel:n}=(0,d.A)(),i=(0,u.A)(),s=(0,c.Pj)(),g=(0,r.KR)(s.state.users),f=(0,r.KR)(e.CardAction),v=(0,r.KR)(e.CardName),k=(0,r.KR)(e.CardData);function _(){1==k.value.status&&(s.commit("SET_CURRENT_PROJECT",k.value.id),s.commit("SET_CURRENT_PROJECT_LABEL",k.value.name),localStorage.setItem("current_project",JSON.stringify({project:k.value.id,label:k.value.name})))}async function C(e){var a=(0,p.y)("table","Workspaces","editItem"),t=e,l=await(0,m.L)(a,t,null,s.state.current_user.token);void 0!=l&&0!=l&&(200==l.status?(_(),o(k.value),(0,b.e)(i,"positive","Запись отредактирована","","done")):(0,b.e)(i,"negative","Error",l.message,"report_problem"))}async function F(e){var a=(0,p.y)("table","Workspaces","addItem"),t=e,l=await(0,m.L)(a,t,null,s.state.current_user.token);void 0!=l&&0!=l&&(200==l.status?(k.value.id=l.id,k.value.created_at=l.created_at,_(),o(k.value),(0,b.e)(i,"positive","Запись добавлена","","done")):(0,b.e)(i,"negative","Error",l.message,"report_problem"))}return(0,l.KC)(()=>{s.dispatch("SET_USERS"),"AddItem"==f.value&&(k.value.status=!0,k.value.ownerflag=!1),"EditItem"==f.value&&(null!=k.value.owner&&(k.value.owner=s.state.users.find(e=>e.id==k.value.owner.id)),null!=k.value.members&&k.value.members!=[]&&(k.value.members=s.state.users.filter(e=>k.value.members.map(e=>e.id).includes(e.id))))}),{dialogRef:a,store:s,CardAction:f,CardName:v,CardData:k,maximizedToggle:(0,r.KR)(!1),options:g,Add:F,Edit:C,onOKClick(){var e=JSON.parse(JSON.stringify(k.value));null!=e.owner?e.owner_id=e.owner.id:e.owner_id=null,delete e.owner,null!=e.members&&e.members!=[]&&(e.members=e.members.map(e=>e.id)),"AddItem"==f.value?F(JSON.stringify(e)):"EditItem"==f.value&&C(JSON.stringify(e))},onCancelClick:n}}};var f=t(2807),v=t(2156),k=t(3316),_=t(8670),C=t(3676),F=t(6384),A=t(7410),w=t(4189),y=t(3952),I=t(5046),h=t(6908),x=t(9270),V=t(492),q=t(460),Q=t(5848),S=t(124),W=t(5173),T=t(3796),R=t(2669),U=t(8672),D=t(8582),z=t.n(D);const K=(0,f.A)(g,[["render",s]]),P=K;z()(g,"components",{QDialog:v.A,QCard:k.A,QBar:_.A,QSpace:C.A,QBtn:F.A,QTooltip:A.A,QCardSection:w.A,QAvatar:y.A,QImg:I.A,QToggle:h.A,QInput:x.A,QIcon:V.A,QCheckbox:q.A,QSelect:Q.A,QItem:S.A,QItemSection:W.A,QItemLabel:T.A,QCardActions:R.A}),z()(g,"directives",{ClosePopup:U.A})},7124:(e,a,t)=>{t.d(a,{A:()=>E});var l=t(1758),o=t(8790);const n={class:"q-pa-md"},i={class:"text-h6"},s={class:"row items-center justify-end"},d={class:"row items-center justify-end"};function r(e,a,t,r,u,c){const m=(0,l.g2)("q-space"),p=(0,l.g2)("q-tooltip"),b=(0,l.g2)("q-btn"),g=(0,l.g2)("q-bar"),f=(0,l.g2)("q-card-section"),v=(0,l.g2)("q-icon"),k=(0,l.g2)("q-input"),_=(0,l.g2)("q-item-label"),C=(0,l.g2)("q-item-section"),F=(0,l.g2)("q-item"),A=(0,l.g2)("q-select"),w=(0,l.g2)("q-date"),y=(0,l.g2)("q-popup-proxy"),I=(0,l.g2)("q-time"),h=(0,l.g2)("q-label"),x=(0,l.g2)("q-toggle"),V=(0,l.g2)("q-card-actions"),q=(0,l.g2)("q-card"),Q=(0,l.g2)("q-dialog"),S=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.Wv)(Q,{ref:"dialogRef",maximized:r.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},{default:(0,l.k6)(()=>[(0,l.bF)(q,{class:"q-dialog-plugin",style:{"min-width":"700px"}},{default:(0,l.k6)(()=>[(0,l.bF)(g,null,{default:(0,l.k6)(()=>[(0,l.bF)(m),(0,l.bF)(b,{dense:"",flat:"",icon:"minimize",onClick:a[0]||(a[0]=e=>r.maximizedToggle=!1),disable:!r.maximizedToggle},{default:(0,l.k6)(()=>[r.maximizedToggle?((0,l.uX)(),(0,l.Wv)(p,{key:0,class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[9]||(a[9]=[(0,l.eW)("Minimize",-1)])]),_:1})):(0,l.Q3)("",!0)]),_:1},8,["disable"]),(0,l.bF)(b,{dense:"",flat:"",icon:"crop_square",onClick:a[1]||(a[1]=e=>r.maximizedToggle=!0),disable:r.maximizedToggle},{default:(0,l.k6)(()=>[r.maximizedToggle?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(p,{key:0,class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[10]||(a[10]=[(0,l.eW)("Maximize",-1)])]),_:1}))]),_:1},8,["disable"]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(b,{dense:"",flat:"",icon:"close"},{default:(0,l.k6)(()=>[(0,l.bF)(p,{class:"bg-white text-primary"},{default:(0,l.k6)(()=>[...a[11]||(a[11]=[(0,l.eW)("Close",-1)])]),_:1})]),_:1})),[[S]])]),_:1}),(0,l.Lk)("div",n,[(0,l.bF)(f,null,{default:(0,l.k6)(()=>[(0,l.Lk)("div",i,(0,o.v_)(r.CardName),1)]),_:1}),(0,l.bF)(f,null,{default:(0,l.k6)(()=>[(0,l.bF)(k,{filled:"",modelValue:r.CardData.name,"onUpdate:modelValue":a[2]||(a[2]=e=>r.CardData.name=e),label:"Наименование задачи",hint:"Text","lazy-rules":"",autogrow:""},{before:(0,l.k6)(()=>[(0,l.bF)(v,{name:"calendar_month"})]),_:1},8,["modelValue"]),(0,l.bF)(k,{filled:"",modelValue:r.CardData.description,"onUpdate:modelValue":a[3]||(a[3]=e=>r.CardData.description=e),label:"Описание задачи",hint:"Text",type:"textarea","lazy-rules":"",autogrow:""},{before:(0,l.k6)(()=>[(0,l.bF)(v,{name:"description"})]),_:1},8,["modelValue"]),(0,l.bF)(A,{modelValue:r.CardData.performers,"onUpdate:modelValue":a[4]||(a[4]=e=>r.CardData.performers=e),multiple:"",options:r.options,label:"Исполнители",hint:"Objects",onInputValue:e.setModel,"options-selected-class":"text-teal"},{before:(0,l.k6)(()=>[(0,l.bF)(v,{name:"groups"})]),option:(0,l.k6)(e=>[(0,l.bF)(F,(0,o._B)((0,l.Ng)(e.itemProps)),{default:(0,l.k6)(()=>[(0,l.bF)(C,null,{default:(0,l.k6)(()=>[(0,l.bF)(_,null,{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(e.opt.username),1)]),_:2},1024),(0,l.bF)(_,{caption:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(e.opt.fullname),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onInputValue"]),(0,l.bF)(k,{filled:"",modelValue:r.CardData.final_date,"onUpdate:modelValue":a[7]||(a[7]=e=>r.CardData.final_date=e),label:"Контрольный срок",hint:"DataTime"},{prepend:(0,l.k6)(()=>[(0,l.bF)(v,{name:"event",class:"cursor-pointer"},{default:(0,l.k6)(()=>[(0,l.bF)(y,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.k6)(()=>[(0,l.bF)(w,{modelValue:r.CardData.final_date,"onUpdate:modelValue":a[5]||(a[5]=e=>r.CardData.final_date=e),mask:"YYYY-MM-DD HH:mm","today-btn":""},{default:(0,l.k6)(()=>[(0,l.Lk)("div",s,[(0,l.bo)((0,l.bF)(b,{label:"Close",color:"primary",flat:""},null,512),[[S]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),append:(0,l.k6)(()=>[(0,l.bF)(v,{name:"access_time",class:"cursor-pointer"},{default:(0,l.k6)(()=>[(0,l.bF)(y,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.k6)(()=>[(0,l.bF)(I,{modelValue:r.CardData.final_date,"onUpdate:modelValue":a[6]||(a[6]=e=>r.CardData.final_date=e),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:(0,l.k6)(()=>[(0,l.Lk)("div",d,[(0,l.bo)((0,l.bF)(b,{label:"Close",color:"primary",flat:""},null,512),[[S]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,l.bF)(x,{modelValue:r.CardData.status,"onUpdate:modelValue":a[8]||(a[8]=e=>r.CardData.status=e)},{default:(0,l.k6)(()=>[r.CardData.status?((0,l.uX)(),(0,l.Wv)(h,{key:0},{default:(0,l.k6)(()=>[...a[12]||(a[12]=[(0,l.eW)("Завершено",-1)])]),_:1})):((0,l.uX)(),(0,l.Wv)(h,{key:1},{default:(0,l.k6)(()=>[...a[13]||(a[13]=[(0,l.eW)("Выполняется",-1)])]),_:1}))]),_:1},8,["modelValue"])]),_:1})]),(0,l.bF)(V,{align:"right"},{default:(0,l.k6)(()=>[(0,l.bF)(b,{color:"green",label:"OK",onClick:r.onOKClick},null,8,["onClick"]),(0,l.bF)(b,{color:"red",label:"Cancel",onClick:r.onCancelClick},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["maximized"])}var u=t(9583),c=t(8734),m=t(4907),p=t(6980),b=t(9827),g=t(1964),f=t(5745);const v={props:{CardAction:{type:String,default:null},CardName:{type:String,default:null},CardData:{type:Object,default:null}},emits:[...u.A.emits],setup(e){const{dialogRef:a,onDialogHide:t,onDialogOK:l,onDialogCancel:o}=(0,u.A)(),n=(0,m.A)(),i=(0,p.Pj)(),s=(0,c.KR)(i.state.users),d=(0,c.KR)(e.CardAction),r=(0,c.KR)(e.CardName),v=(0,c.KR)(e.CardData);async function k(e){var a=(0,g.y)("table","UserTasks","editItem"),t={workspace:i.state.current_project,data:e},o=await(0,b.L)(a,t,null,i.state.current_user.token);void 0!=o&&0!=o&&(200==o.status?(l(v.value),(0,f.e)(n,"positive","Запись отредактирована","","done")):(0,f.e)(n,"negative","Ошибка",o.message,"report_problem"))}async function _(e){var a=(0,g.y)("table","UserTasks","addItem"),t={workspace:i.state.current_project,data:e},o=await(0,b.L)(a,t,null,i.state.current_user.token);void 0!=o&&0!=o&&(200==o.status?(v.value.id=o.id,v.value.created_at=o.created_at,l(v.value),(0,f.e)(n,"positive","Запись добавлена","","done")):(0,f.e)(n,"negative","Ошибка",o.message,"report_problem"))}return{dialogRef:a,options:s,CardAction:d,CardName:r,CardData:v,maximizedToggle:(0,c.KR)(!1),Add:_,Edit:k,onOKClick(){"AddItem"==d.value?_(JSON.stringify(v.value)):"EditItem"==d.value&&k(JSON.stringify(v.value))},onCancelClick:o}}};var k=t(2807),_=t(2156),C=t(3316),F=t(8670),A=t(3676),w=t(6384),y=t(7410),I=t(4189),h=t(9270),x=t(492),V=t(5848),q=t(124),Q=t(5173),S=t(3796),W=t(8975),T=t(3692),R=t(4736),U=t(6908),D=t(2669),z=t(8672),K=t(8582),P=t.n(K);const N=(0,k.A)(v,[["render",r]]),E=N;P()(v,"components",{QDialog:_.A,QCard:C.A,QBar:F.A,QSpace:A.A,QBtn:w.A,QTooltip:y.A,QCardSection:I.A,QInput:h.A,QIcon:x.A,QSelect:V.A,QItem:q.A,QItemSection:Q.A,QItemLabel:S.A,QPopupProxy:W.A,QDate:T.A,QTime:R.A,QToggle:U.A,QCardActions:D.A}),P()(v,"directives",{ClosePopup:z.A})}}]);