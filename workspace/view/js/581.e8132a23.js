"use strict";(globalThis["webpackChunkais"]=globalThis["webpackChunkais"]||[]).push([[581],{4581:(e,a,t)=>{t.r(a),t.d(a,{default:()=>q});var l=t(9835);const o=(0,l.Uk)(" AIS ");function n(e,a,t,n,u,s){const r=(0,l.up)("q-toolbar-title"),i=(0,l.up)("q-space"),m=(0,l.up)("q-toolbar"),d=(0,l.up)("q-header"),p=(0,l.up)("q-input"),c=(0,l.up)("q-icon"),w=(0,l.up)("q-btn"),b=(0,l.up)("q-form"),g=(0,l.up)("router-view"),f=(0,l.up)("q-page-container"),_=(0,l.up)("q-layout");return(0,l.wg)(),(0,l.j4)(_,{view:"lHh Lpr lFf"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{elevated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[o])),_:1}),(0,l.Wm)(i)])),_:1})])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{onSubmit:e.onSubmit,class:"q-gutter-md absolute-center",style:{width:"500px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{filled:"",modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=a=>e.username=a),label:"Login...",rules:[e=>e&&e.length>0||"Поле Login не должно быть пустым"]},null,8,["modelValue","rules"]),(0,l.Wm)(p,{modelValue:e.password,"onUpdate:modelValue":a[2]||(a[2]=a=>e.password=a),filled:"",type:e.isPwd?"password":"text",label:"Password..."},{append:(0,l.w5)((()=>[(0,l.Wm)(c,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[1]||(a[1]=a=>e.isPwd=!e.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type"]),(0,l._)("div",null,[(0,l.Wm)(w,{label:"Вход",type:"submit",color:"primary"})])])),_:1},8,["onSubmit"]),(0,l.Wm)(g)])),_:1})])),_:1})}var u=t(499),s=t(9302),r=t(1569),i=t(8910),m=t(1049);const d=(0,l.aZ)({name:"LoginPage",setup(){const e=(0,s.Z)(),a=(0,u.iH)(null),t=(0,u.iH)(null),l=(0,i.tv)(),o=(0,m.oR)(),n=()=>{setTimeout((()=>{r.api.get("/login",{params:{username:a.value,password:t.value}}).then((a=>{200==a.data.rsp_k?(localStorage.setItem("user",JSON.stringify({username:a.data.username,token:a.data.token,fullname:a.data.fullname,role:a.data.role})),localStorage.setItem("user_settings",JSON.stringify(o.state.user_settings)),o.commit("SET_CURRENT_USER",{label:a.data.username,value:a.data.username,fullname:a.data.fullname,token:a.data.token,role:a.data.role}),d("/manage_projects")):e.notify({color:"negative",position:"bottom",caption:a.data.message,message:"Ошибка",icon:"report_problem"})}))}),1e3)};function d(e){l.push(e)}return{onSubmit:n,pushWithQuery:d,isPwd:(0,u.iH)(!0),username:a,password:t,router:l}}});var p=t(1639),c=t(249),w=t(6602),b=t(1663),g=t(1973),f=t(136),_=t(2133),v=t(8326),h=t(3119),y=t(2857),Z=t(8879),S=t(9984),W=t.n(S);const k=(0,p.Z)(d,[["render",n]]),q=k;W()(d,"components",{QLayout:c.Z,QHeader:w.Z,QToolbar:b.Z,QToolbarTitle:g.Z,QSpace:f.Z,QPageContainer:_.Z,QForm:v.Z,QInput:h.Z,QIcon:y.Z,QBtn:Z.Z})}}]);